<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="工作, 生活"><title>maven | 夏普牛的博客</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">maven</h1><a id="logo" href="/.">夏普牛的博客</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">maven</h1><div class="post-meta">Apr 3, 2013<span> | </span><span class="category"><a href="/categories/maven/">maven</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content">


<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> &#x5411;&#x79C1;&#x6709;&#x4ED3;&#x5E93;&#x4E2D;&#x90E8;&#x7F72; &#x7B2C;&#x4E09;&#x65B9; jar &#x5305;&#x7684;&#x547D;&#x4EE4;</h2>
<div class="outline-text-2" id="text-1">
<div class="org-src-container">

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mvn deploy:deploy-file -DgroupId=com.ruixue.rop -DartifactId=sdk -Dversion=<span class="number">1.1</span> -Dpackaging=jar -Dfile=./RopExSdk.jar -Durl=http://<span class="number">115.159</span>.<span class="number">22.92</span>:<span class="number">8090</span>/nexus/content/repositories/releases/ -DrepositoryId=[&#x5728; settings.xml &#x4E2D; server &gt;id &#x8282;&#x70B9;&#x7684;&#x503C;]</span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> &#x5411;&#x79C1;&#x6709;&#x4ED3;&#x5E93;&#x4E2D;&#x90E8;&#x7F72;&#x7B2C;&#x4E09;&#x65B9; &#x5FEB;&#x7167;&#x5305;&#x7684;&#x547D;&#x4EE4;</h2>
<div class="outline-text-2" id="text-2">
<div class="org-src-container">

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mvn deplofy:deploy-file -DgroupId=com.ruixue.rop -DartifactId=sdk -Dversion=<span class="number">1.1</span>-SNAPSHOT -Dpackaging=jar -Dfile=./RopExSdk.jar -Durl=http://<span class="number">115.159</span>.<span class="number">22.92</span>:<span class="number">8090</span>/nexus/content/repositories/snapshots/ -DrepositoryId=snapshots</span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> &#x4F7F;&#x7528;scm</h2>
<div class="outline-text-2" id="text-3">
<p>
&#x914D;&#x7F6E;scm&#x4FE1;&#x606F;
</p>
<div class="org-src-container">

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="title">scm</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">connection</span>&gt;</span>scm:svn:svn://pub.ipay.sina.com/sina-pay-center/project/wallet/30.sourcecode/trunk<span class="tag">&lt;/<span class="title">connection</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- &#x8981;&#x4F7F;&#x7528;scm&#x7684;&#x9879;&#x76EE;&#x7684;pom&#x6240;&#x5728;&#x7684;&#x76EE;&#x5F55;--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">developerConnection</span>&gt;</span>scm:svn:svn://pub.ipay.sina.com/sina-pay-center/project/wallet/30.sourcecode/trunk<span class="tag">&lt;/<span class="title">developerConnection</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">scm</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">build</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">plugins</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;<span class="title">plugin</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="title">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">artifactId</span>&gt;</span>maven-release-plugin<span class="tag">&lt;/<span class="title">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">version</span>&gt;</span>2.0-beta-7<span class="tag">&lt;/<span class="title">version</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">configuration</span>&gt;</span></span><br><span class="line">		    <span class="tag">&lt;<span class="title">tagNameFormat</span>&gt;</span>v@{project.version}<span class="tag">&lt;/<span class="title">tagNameFormat</span>&gt;</span></span><br><span class="line">		    <span class="comment">&lt;!-- &#x6307;&#x5B9A;tag&#x76EE;&#x5F55;, &#x5982;&#x679C;&#x662F;svn&#x7684;&#x9ED8;&#x8BA4;&#x7ED3;&#x6784;, &#x53EF;&#x4EE5;&#x7701;&#x7565;--&gt;</span></span><br><span class="line">		    <span class="tag">&lt;<span class="title">tagBase</span>&gt;</span>svn://pub.ipay.sina.com/sina-pay-center/core/biz-modules/20.code/tags/account-wallet<span class="tag">&lt;/<span class="title">tagBase</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="title">configuration</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;/<span class="title">plugin</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;/<span class="title">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">build</span>&gt;</span></span><br></pre></td></tr></table></figure>
</div>

<p>
&#x4E00;&#x6B21;&#x6B63;&#x5F0F;&#x7684;&#x53D1;&#x5E03;&#x9700;&#x8981;&#x8FD9;&#x6837;&#x4E00;&#x4E9B;&#x5DE5;&#x4F5C;&#xFF1A;
</p>
<ol class="org-ol">
<li>&#x5728;trunk&#x4E2D;&#xFF0C;&#x66F4;&#x65B0;pom&#x7248;&#x672C;&#x4ECE;1.0-SNAPSHOT&#x5230;1.0
</li>
<li>&#x5BF9;1.0&#x6253;&#x4E00;&#x4E2A;svn tag
</li>
<li>&#x9488;&#x5BF9;tag&#x8FDB;&#x884C;mvn deploy&#xFF0C;&#x53D1;&#x5E03;&#x6B63;&#x5F0F;&#x7248;&#x672C;
</li>
<li>&#x66F4;&#x65B0;trunk&#x4ECE;1.0&#x5230;1.1-SNAPSHOT
</li>
</ol>
<p>
&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x5B8C;&#x6210;&#x8FD9;&#x4E9B;&#x5DE5;&#x4F5C;
</p>
<div class="org-src-container">

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># &#x6253;&#x4E00;&#x4E2A;&#x5FEB;&#x7167;&#x7248;&#x672C;&#x5E76;&#x4E0A;&#x4F20;&#x5230;SVN&#x7684;tag&#x76EE;&#x5F55;,&#x5E76;&#x4E14;&#x9879;&#x76EE;&#x7684;&#x7248;&#x672C;&#x4F1A;&#x6539;&#x53D8;</span></span><br><span class="line">mvn release:clean release:prepare -Darguments=<span class="string">&quot;-Dmaven.test.skip=true -Dmaven.javadoc.skip=true&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Perform a release from SCM, either from a specified tag, or the tag representing the</span></span><br><span class="line"><span class="comment"># previous release in the working copy created by release:prepare</span></span><br><span class="line">mvn release:perform -Darguments=<span class="string">&quot;-Dmaven.test.skip=true -Dmaven.javadoc.skip=true&quot;</span></span><br><span class="line"></span><br><span class="line">mvn release:rollback</span><br></pre></td></tr></table></figure>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> release:preare</h2>
<div class="outline-text-2" id="text-4">
<p>
Preparing a release goes through the following release phases:
</p>

<ol class="org-ol">
<li>Check that there are no uncommitted changes in the sources
</li>
<li>Check that there are no SNAPSHOT dependencies
</li>
<li>Change the version in the POMs from x-SNAPSHOT to a new version (you will be prompted for the versions to use)
</li>
<li>Transform the SCM information in the POM to include the final destination of the tag
</li>
<li>Run the project tests against the modified POMs to confirm everything is in working order
</li>
<li>Commit the modified POMs
</li>
<li>Tag the code in the SCM with a version name (this will be prompted for)
</li>
<li>Bump the version in the POMs to a new value y-SNAPSHOT (these values will also be prompted for)
</li>
<li>Commit the modified POMs
</li>
</ol>
</div>
</div>


<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> release:rollback</h2>
<div class="outline-text-2" id="text-5">
<p>
When a release is rolled back, the following release phases are executed:
</p>

<ol class="org-ol">
<li>All project POMs are reverted back to their pre-release state locally, and also in the SCM if the previous release command was able to successfully make changes in the SCM to the POMs.This is done by using the backup files created during release:prepare.
</li>
<li>The created branch/tag in SCM for the release is removed. Note: This is not yet implemented so you will need to manually remove the branch/tag from your SCM. For more info see MRELEASE-229.
</li>
</ol>
</div>
</div>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://yoursite.com/2013/04/03/maven/" data-id="cixu08qs3000dbi0o84ale4og" class="article-share-link">分享到</a><div class="tags"><a href="/tags/maven/">maven</a></div><div class="post-nav"><a href="/2013/04/20/整合阿里Druid数据库连接池/" class="pre">整合阿里druid数据库连接池</a><a href="/2012/11/18/springmvc文件上传/" class="next">springmvc文件上传</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/charles/">charles</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/clojure/">clojure</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/druid/">druid</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/emacs/">emacs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/exception/">exception</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/freemarker/">freemarker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hibernate/">hibernate</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/html/">html</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jenkins/">jenkins</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/joda/">joda</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mac/">mac</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/maven/">maven</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/redis/">redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/rz/">rz</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/springmvc/">springmvc</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/sql/">sql</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/加密解密/">加密解密</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/性能监控/">性能监控</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构/">数据结构</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法/">算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络/">网络</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/rz/" style="font-size: 15px;">rz</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/exception/" style="font-size: 15px;">exception</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/freemarker/" style="font-size: 15px;">freemarker</a> <a href="/tags/elisp/" style="font-size: 15px;">elisp</a> <a href="/tags/interactive/" style="font-size: 15px;">interactive</a> <a href="/tags/emacs/" style="font-size: 15px;">emacs</a> <a href="/tags/encryption/" style="font-size: 15px;">encryption</a> <a href="/tags/maven/" style="font-size: 15px;">maven</a> <a href="/tags/clojure/" style="font-size: 15px;">clojure</a> <a href="/tags/org-mode/" style="font-size: 15px;">org-mode</a> <a href="/tags/性能监控/" style="font-size: 15px;">性能监控</a> <a href="/tags/mac/" style="font-size: 15px;">mac</a> <a href="/tags/vpn/" style="font-size: 15px;">vpn</a> <a href="/tags/orgmode/" style="font-size: 15px;">orgmode</a> <a href="/tags/slider/" style="font-size: 15px;">slider</a> <a href="/tags/leiningen/" style="font-size: 15px;">leiningen</a> <a href="/tags/network/" style="font-size: 15px;">network</a> <a href="/tags/ip/" style="font-size: 15px;">ip</a> <a href="/tags/广播/" style="font-size: 15px;">广播</a> <a href="/tags/路由/" style="font-size: 15px;">路由</a> <a href="/tags/redis/" style="font-size: 15px;">redis</a> <a href="/tags/mail/" style="font-size: 15px;">mail</a> <a href="/tags/mu4e/" style="font-size: 15px;">mu4e</a> <a href="/tags/mysql常用语句/" style="font-size: 15px;">mysql常用语句</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/时间复杂度/" style="font-size: 15px;">时间复杂度</a> <a href="/tags/空间复杂度/" style="font-size: 15px;">空间复杂度</a> <a href="/tags/数据结构/" style="font-size: 15px;">数据结构</a> <a href="/tags/hibernate/" style="font-size: 15px;">hibernate</a> <a href="/tags/缓存/" style="font-size: 15px;">缓存</a> <a href="/tags/html定位/" style="font-size: 15px;">html定位</a> <a href="/tags/file/" style="font-size: 15px;">file</a> <a href="/tags/permission/" style="font-size: 15px;">permission</a> <a href="/tags/datatype/" style="font-size: 15px;">datatype</a> <a href="/tags/index/" style="font-size: 15px;">index</a> <a href="/tags/sql优化/" style="font-size: 15px;">sql优化</a> <a href="/tags/sql/" style="font-size: 15px;">sql</a> <a href="/tags/wirelessnetwork/" style="font-size: 15px;">wirelessnetwork</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/ajax/" style="font-size: 15px;">ajax</a> <a href="/tags/dom/" style="font-size: 15px;">dom</a> <a href="/tags/bom/" style="font-size: 15px;">bom</a> <a href="/tags/function/" style="font-size: 15px;">function</a> <a href="/tags/class/" style="font-size: 15px;">class</a> <a href="/tags/charles/" style="font-size: 15px;">charles</a> <a href="/tags/springmvc/" style="font-size: 15px;">springmvc</a> <a href="/tags/queue/" style="font-size: 15px;">queue</a> <a href="/tags/db/" style="font-size: 15px;">db</a> <a href="/tags/joda/" style="font-size: 15px;">joda</a> <a href="/tags/druid/" style="font-size: 15px;">druid</a> <a href="/tags/jenkinsclient/" style="font-size: 15px;">jenkinsclient</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/08/30/linux服务器问题集/">linux服务器问题集</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/03/clojure/">clojure基础知识</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/09/16/linux性能监控/">linux性能监控</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/08/01/mac系统下自动重连vpn脚本/">mac系统下自动重连vpn脚本</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/07/18/性能测试/">性能测试</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/06/30/emacs-mail/">emacs-mail</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/06/12/并发测试/">并发测试数据生成</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/05/19/leiningen/">leiningen</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/05/08/elisp/">elisp基础知识</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/04/02/elispinteractive/">elispinteractive的用法</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">夏普牛的博客.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>